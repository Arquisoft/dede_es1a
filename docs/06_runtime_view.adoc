[[section-runtime-view]]
== Runtime View
=== Add Product to Shopping Cart

[plantuml,"Diagrama Añadir producto",png]
----
actor Client
participant ShoppingCart
Client -> ShoppingCart: Authentication request
ShoppingCart -> Client: Authentication answer
Client -> ShoppingCart: Add products
note across: Then, the product is stored
Client -> ShoppingCart: Click on shopping cart
ShoppingCart -> Client: View shopping cart
----

=== Delete Product from Shopping Cart.

[plantuml,"Diagrama Eliminar Producto",png]
----
actor Client
participant ShoppingCart
Client -> ShoppingCart: Click on shopping cart
ShoppingCart -> Client: View shopping cart
Client -> ShoppingCart: Delete selected product
note across: Then, the product is deleted
ShoppingCart -> Client: Shopping cart is updated
----

=== Login

[plantuml,"Diagrama Inicio de sesión",png]
----
actor Client
participant Frontend
participant Backend
Client -> Frontend: Introduce email and password
Frontend -> Backend: Login request
alt User exists
    Backend -> Frontend: Returns user
    Frontend -> Cliente: Redirects home page with the user session
else User doesn't exists
    Backend -> Frontend: Authentication error
end
----

=== Register

[plantuml,"Diagrama Registro",png]
----
actor Client
participant Frontend
participant Backend
Client -> Frontend: Introduce email, name, dni, password and confirm password
Frontend -> Backend: Authentication request
alt User exists
    Backend -> Frontend: Sign up fails
    Frontend -> Client: Notification to user (email in use)
else User doesn't exists
    Backend -> Frontend: New user registered
    Frontend -> Client: Redirects login page
end
----


=== View User Orders

[plantuml,"Ver pedidos",png]
----
actor Client
participant UserInterface
database "POD"
Client -> UserInterface: View orders
UserInterface -> "POD": Obtain user orders
"POD" -> UserInterface: Return user orders
UserInterface -> UserInterface: Show user orders
----
