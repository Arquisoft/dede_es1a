[[section-runtime-view]]
== Runtime View
=== Add Product to Shopping Cart

[plantuml,"Diagrama Añadir producto",png]
----
actor Client
participant Shopping Cart
Client -> Shopping Cart: Authentication request
Shopping Cart -> Client: Authentication answer
Client -> Shopping Cart: Add products
note across: Then, the product is stored
Client -> Shopping Cart: Click on shopping cart
Shopping Cart -> Client: View shopping cart
----

=== Delete Product from Shopping Cart.

[plantuml,"Diagrama Eliminar Producto",png]
----
actor Client
participant Shopping Cart
Client -> Shopping Cart: Click on shopping cart
Shopping Cart -> Cliente: View shopping cart
Client -> Shopping Cart: Delete selected product
note across: Then, the product is deleted
Shopping Cart -> Client: Shopping cart is updated
----

=== Login

[plantuml,"Diagrama Inicio de sesión",png]
----
actor Client
participant Frontend
participant Backend
Client -> Frontend: Introduce email and password
Frontend -> Backend: Login request
alt User exists
    Backend -> Frontend: Returns user
    Frontend -> Cliente: Redirects home page with the user session
else User doesn't exists
    Backend -> Frontend: Authentication error
end
----

=== Register

[plantuml,"Diagrama Registro",png]
----
actor Client
participant Frontend
participant Backend
Cliente -> Frontend: Introduce email, name, dni, password and confirm password
Frontend -> Backend: Authentication request
alt User exists
    Backend -> Frontend: Sign up fails
    Frontend -> Cliente: Notification to user (email in use)
else User doesn't exists
    Backend -> Frontend: New user registered
    Frontend -> Cliente: Redirects login page
end
----


=== View User Orders

[plantuml,"Ver pedidos",png]
----
actor Client
participant User Interface
database "POD"
Client -> User Interface: View orders
User Interface -> "POD": Obtain user orders
"POD" -> User Interface: Return user orders
User Interface -> Show user orders
----
